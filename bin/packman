#!/usr/bin/env node

require('colors');

const program = require('commander');
const packageJson = require('../package.json');

console.info('packman is hungry'.cyan);

const start = Date.now();
process.on('unhandledRejection', error => {
    console.info('packman dies'.cyan);
    console.log(`[${'unhandledRejection'.red}]: ${error.message}`, error);
})
process.on('beforeExit', () => {
    console.info('packman wins'.cyan);
    console.log(`completed in ${Date.now() - start}ms`.green);
});

program
    .version(packageJson.version)
    .command('download-tgz', 'Download package tarballs').alias('d')
    .command('publish', 'Publish package tarballs').alias('p')
    .parse(process.argv);
