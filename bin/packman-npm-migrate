#!/usr/bin/env node

const program = require('commander');

const log = require('../lib/core/logger');
const { initializeCommand } = require('../lib/core/initializer');
initializeCommand(program, 'migrate');

const commands = require('../lib/npm/migrate/commands');

program
    .command('package <name> [version]')
    .description('migrate packages from one registry to another')
    .option('-s, --source <sourceRegistry>', 'the source registry from which to migrate packages (mandatory)')
    .option('-t, --target <targetRegistry>', 'the target registry the packages will be migrated, defaults to current registry')
    .action((name, version, command) => commands.migratePackageCommand(name, version, command));

program.parse(process.argv);
