#!/usr/bin/env node

const program = require('commander');

const { initializeCommand } = require('../lib/core/initializer');
initializeCommand(program, 'publish');

const commands = require('../lib/npm/publish/commands');

program
    .command('npm <packagesPath>')
    .description('use npm to publish tarballs at the specified path to the registry')
    .option('--registry [registry]')
    .action((packagesPath, command) => commands.publishNpmCommand({ packagesPath, ...command }));

program
    .command('nexus <packagesPath>')
    .description('use the nexus api to publish tarballs at the specified path to the registry')
    .option('--registry [registry]')
    .action((packagesPath, command) => commands.publishNexusApiCommand({ packagesPath, ...command }));

program.parse(process.argv);
