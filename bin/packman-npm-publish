#!/usr/bin/env node

const program = require('commander');

const { initializeCommand } = require('../lib/core/initializer');
initializeCommand(program, 'publish-npm');

const commands = require('../lib/npm/publish/commands');

program
    .command('npm <packagePath>')
    .description('use npm to publish tarballs at the specified path to the registry')
    .option('--registry [registry]')
    .action((packagePath, command) => commands.publishNpmCommand({ packagePath, ...command }));

program
    .command('nexus <packagePath>')
    .description('use the nexus api to publish tarballs at the specified path to the registry')
    .option('--registry [registry]')
    .action((packagePath, command) => commands.publishNexusApiCommand({ packagePath, ...command }));

program.parse(process.argv);
